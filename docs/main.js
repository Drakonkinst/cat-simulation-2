let o=5;const t={setLevel(t){o=t},severe(t){o>=1&&console.error(t)},warn(t){o>=2&&console.warn(t)},info(t){o>=3&&console.log(t)},fine(t){o>=4&&console.log(t)},finer(t){o>=5&&console.log(t)}},n={version:'alpha 2.000',options:{instantButtons:!1,fasterButtons:!1,loggerLevel:5}};const e={},i={};function l(){}class s{constructor({id:o=null,cooldown:n=0,saveCooldown:i=!1,onClick:s=l,onFinish:d=l,text:a='button',tooltip:h=null,width:r=null}={}){this.id=o,this.cooldown=n,this.onCooldown=this.cooldown>0,this.saveCooldown=i,this.element=function(o,t){let n=$('<div>').addClass('button').text(t).on('click',(()=>{let t=o.onClick();(null==t||t)&&o.startCooldown()}));return $('<div>').addClass('cooldown').appendTo(n),n}(this,a),this.onClick=s,this.onFinish=d,null==this.id&&this.saveCooldown&&t.warn('Button with no ID cannot save cooldown'),null!=h&&h.exists()&&h.appendTo(this.element),null!=this.id&&this.element.addClass('button_'+button.id),null!=r&&this.element.css('width',r),null!=this.id&&e.hasOwnProperty(this.id)&&this.startCooldown(e[this.id])}static getButton(o){return i[o]}static saveSavedCooldowns(){return JSON.stringify(e)}static loadSavedCooldowns(o){e=JSON.parse(o)}setText(){this.element.text(text)}setCooldown(o){this.cooldown=o}appendTo(o){return this.element.appendTo(o),this}startCooldown(o=null){let t=this.cooldown,n=100;if(null==o||o>t?o=t:n=o/t*100,t<=2)return void this.finish();this.clearCooldown();let i=this;if(this.element.find('.cooldown').width(n+'%').animate({width:'0%'},o,'linear',(()=>{i.clearCooldown(),i.finish()})),this.saveCooldown){e[this.id]=.001*o;let t=setInterval((function(){if(e[this.id]-.5<0)return delete e[this.id],void clearInterval(t);e[this.id]=function(o,t=2){return+o.toFixed(t)}(e[this.id]-.5)}),500)}this.onCooldown=!0,this.setDisabled(!0)}finish(){this.onFinish()}clearCooldown(){this.onCooldown=!1,this.setDisabled(!1)}setDisabled(o){o||this.onCooldown?o&&this.element.addClass('disabled'):this.element.removeClass('disabled')}}$((()=>{t.setLevel(n.options.loggerLevel),new s({text:'Hello, world!',cooldown:1e3,onClick:()=>{t.info('Hello, world!')}}).appendTo($('.main'))}));
//# sourceMappingURL=main.js.map
